The final code of model
